/*! Sidr - v1.2.1 - 2013-11-06 MINIFIED
 * https://github.com/artberri/sidr
 * Copyright (c) 2013 Alberto Varela; Licensed MIT
 *
 *	== Custom BNE version April 20, 2015 ==
*/


!function(t){function e(e,n){var o=t("#"+e);if("function"==typeof n){var a=n(e);i.loadContent(o,a)}else if("string"==typeof n&&i.isUrl(n))t.get(n,function(t){i.loadContent(o,t)});else if("string"==typeof n){var s="",d=n.split(",");if(t.each(d,function(e,n){s+='<div class="sidr-inner">'+t(n).html()+"</div>"}),o.data("renaming")){var r=t("<div />").html(s);r.find("*").each(function(e,n){var o=t(n);i.addPrefix(o)}),s=r.html()}i.loadContent(o,s)}else null!==n&&t.error("Invalid Sidr Source")}t(function(){var e=t('<div style="width:100px;height:100px;overflow:scroll;position:absolute;top:-9999px;"/>'),n=e.get(0);e.appendTo("body"),t("html").addClass(n.offsetWidth===n.clientWidth?"hiddenscroll":"shownscroll"),e.remove()});var n=!1,o=!1,i={isUrl:function(t){var e=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return e.test(t)?!0:!1},loadContent:function(t,e){t.html(e)},addPrefix:function(t){var e=t.attr("id"),n=t.attr("class");"string"==typeof e&&""!==e&&t.attr("id",e.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-id-$1")),"string"==typeof n&&""!==n&&"sidr-inner"!==n&&t.attr("class",n.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-class-$1")),t.removeAttr("style")},execute:function(e,i,s){"function"==typeof i?(s=i,i="sidr"):i||(i="sidr");var d,r,l=t("#"+i),c=t(l.data("body")),p=t("html"),f=l.outerWidth(!0),u=l.outerHeight(!0),g=l.data("speed"),m=l.data("side"),h=l.data("displace"),v=l.data("onOpen"),y=l.data("onClose"),x="sidr"===i?"sidr-open":"sidr-open "+i+"-open";if("open"===e||"toggle"===e){if(o!==!1)return void a.close(o,function(){a.open(i)});n=!0,"left"===m?(d={left:f+"px"},r={left:"0px"}):"right"===m?(d={right:f+"px"},r={right:"0px"}):"top"===m?(d={top:u+"px"},r={top:"0px"}):"bottom"===m&&(d={top:"-"+u+"px"},r={bottom:"0px"}),c.is("body")&&p.addClass("flyout-lock flyout-margin"),h?c.addClass("sidr-animating").css({width:c.width(),position:"absolute"}).animate(d,g,function(){t(this).addClass(x)}):(c.addClass("sidr-animating"),setTimeout(function(){t("body").addClass(x)},g)),l.css("display","block").animate(r,g,function(){n=!1,o=i,"function"==typeof s&&s(i),c.removeClass("sidr-animating")}),v()}else{if(!l.is(":visible")||n)return;n=!0,"left"===m?(d={left:0},r={left:"-"+f+"px"}):"right"===m?(d={right:0},r={right:"-"+f+"px"}):"top"===m?(d={top:0},r={top:"-"+u+"px"}):"bottom"===m&&(d={top:0},r={bottom:"-"+u+"px"}),c.is("body")&&p.removeClass("flyout-lock flyout-margin"),c.addClass("sidr-animating").animate(d,g).removeClass(x),l.animate(r,g,function(){l.removeAttr("style").hide(),c.removeAttr("style"),n=!1,o=!1,"function"==typeof s&&s(i),c.removeClass("sidr-animating")}),y()}}},a={open:function(t,e){i.execute("open",t,e)},close:function(t,e){i.execute("close",t,e)},toggle:function(t,e){i.execute("toggle",t,e)},reload:function(t,n){e(t,n)}};t.sidr=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof e&&"string"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.sidr"):a.toggle.apply(this,arguments)},t.fn.sidr=function(n){var o=t.extend({name:"sidr",speed:300,side:"left",source:null,renaming:!0,body:"body",displace:!0,onOpen:function(){},onClose:function(){}},n),i=o.name,s=t("#"+i);return 0===s.length&&(s=t("<div />").attr("id",i).appendTo(t("body"))),s.addClass("sidr").addClass(o.side).data({speed:o.speed,side:o.side,body:o.body,displace:o.displace,renaming:o.renaming,onOpen:o.onOpen,onClose:o.onClose}),e(i,o.source),this.each(function(){var e=t(this),n=e.data("sidr");n||(e.data("sidr",i),"ontouchstart"in document.documentElement?(e.bind("touchstart",function(t){t.originalEvent.touches[0];this.touched=t.timeStamp}),e.bind("touchend",function(t){var e=Math.abs(t.timeStamp-this.touched);200>e&&(t.preventDefault(),a.toggle(i))}),e.click(function(t){t.preventDefault(),a.toggle(i)})):e.click(function(t){t.preventDefault(),a.toggle(i)}))})}}(jQuery);